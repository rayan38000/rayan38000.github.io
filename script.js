const header=document.querySelector("header"),heroContent=document.querySelector(".hero-content");document.addEventListener("mousemove",(e=>{const t=header.getBoundingClientRect(),n=e.clientX-t.left,o=e.clientY-t.top;heroContent.style.setProperty("--mouse-x",`${n}px`),heroContent.style.setProperty("--mouse-y",`${o}px`)})),document.addEventListener("DOMContentLoaded",(()=>{const e=header.getBoundingClientRect(),t=.75*e.width,n=.5*e.height;heroContent.style.setProperty("--mouse-x",`${t}px`),heroContent.style.setProperty("--mouse-y",`${n}px`)}));const typedTextSpan=document.querySelector(".typed-text"),cursorSpan=document.querySelector(".cursor"),textArray=["API Developer","Bot Developer","Web Scraper","Data Extractor","Web Developer","Tool Developer"],typingDelay=100,erasingDelay=50,newTextDelay=2e3;let textArrayIndex=0,charIndex=0;function type(){charIndex<textArray[textArrayIndex].length?(cursorSpan.classList.contains("typing")||cursorSpan.classList.add("typing"),typedTextSpan.textContent+=textArray[textArrayIndex].charAt(charIndex),charIndex++,setTimeout(type,typingDelay)):(cursorSpan.classList.remove("typing"),setTimeout(erase,newTextDelay))}function erase(){charIndex>0?(cursorSpan.classList.contains("typing")||cursorSpan.classList.add("typing"),typedTextSpan.textContent=textArray[textArrayIndex].substring(0,charIndex-1),charIndex--,setTimeout(erase,erasingDelay)):(cursorSpan.classList.remove("typing"),textArrayIndex++,textArrayIndex>=textArray.length&&(textArrayIndex=0),setTimeout(type,typingDelay+1100))}document.addEventListener("DOMContentLoaded",(function(){textArray.length&&setTimeout(type,newTextDelay+250)}));const canvas=document.getElementById("particle-canvas"),ctx=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight-64;let particles=[];const particleCount=50;class Particle{constructor(){this.x=Math.random()*canvas.width,this.y=Math.random()*canvas.height,this.size=3*Math.random()+1,this.speedX=1*Math.random()-.5,this.speedY=1*Math.random()-.5}update(e,t){this.x+=this.speedX,this.y+=this.speedY,(this.x<0||this.x>canvas.width)&&(this.speedX*=-1),(this.y<0||this.y>canvas.height)&&(this.speedY*=-1);const n=e-this.x,o=t-this.y;Math.sqrt(n*n+o*o)<100&&(this.x-=.02*n,this.y-=.02*o)}draw(){ctx.fillStyle="rgba(255, 255, 255, 0.5)",ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill()}}for(let e=0;e<50;e++)particles.push(new Particle);let mouseX=0,mouseY=0;function animate(){ctx.clearRect(0,0,canvas.width,canvas.height),particles.forEach((e=>{e.update(mouseX,mouseY),e.draw()})),requestAnimationFrame(animate)}function updateActiveLink(){const e=document.querySelectorAll("header, #about, #skills, #project, #testimonials, #contact"),t=document.querySelectorAll("nav a"),n=window.innerHeight,o=window.scrollY,s=.5*n;let a=0,r=0,c=!1;e.forEach(((e,t)=>{const i=e.offsetTop,l=i+e.offsetHeight,d=Math.max(i,o),u=Math.min(l,o+n),m=Math.max(0,u-d);m>=s&&m>r&&(r=m,a=t,c=!0)})),c||(a=e.length-1),t.forEach((e=>e.classList.remove("active"))),t[a]&&t[a].classList.add("active")}canvas.addEventListener("mousemove",(e=>{mouseX=e.clientX,mouseY=e.clientY-64})),animate(),window.addEventListener("resize",(()=>{canvas.width=window.innerWidth,canvas.height=window.innerHeight-64})),window.addEventListener("scroll",(()=>{const e=document.querySelector("nav");window.scrollY>.1*window.innerHeight?e.classList.add("nav-shrunk"):e.classList.remove("nav-shrunk"),updateActiveLink()}));const navLinks=document.querySelectorAll("nav a");navLinks.forEach(((e,t)=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").substring(1);document.getElementById(n).scrollIntoView({behavior:"smooth"}),navLinks.forEach((e=>e.classList.remove("active"))),e.classList.add("active")}))})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("nav a")[0].classList.add("active")})),document.querySelectorAll(".skill-item").forEach((e=>{e.addEventListener("mousemove",(t=>{const n=e.getBoundingClientRect(),o=t.clientX-n.left,s=t.clientY-n.top;e.style.setProperty("--mouse-x",`${o}px`),e.style.setProperty("--mouse-y",`${s}px`)}))}));const modal=document.getElementById("modal"),modalImage=document.getElementById("modal-image"),closeModal=document.querySelector(".close-modal");function showPopup(){document.getElementById("popupOverlay").classList.add("show")}function closePopup(){document.getElementById("popupOverlay").classList.remove("show")}async function sendMessage(){const e=document.getElementById("contact-method").value,t=document.getElementById("message").value;if(!e||!t)return void alert("Veuillez remplir tous les champs.");const n={chat_id:"5876509717",text:`*Nouveau message de contact*\n*Moyen de contact:* ${e}\n*Message:* ${t}`,parse_mode:"Markdown"};try{const e=await fetch("https://api.telegram.org/bot7919166432:AAH0l8wzE0GQJBHgIaZGGbkeFFRyiSZXthI/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await e.json()).ok?(showPopup(),document.getElementById("contact-method").value="",document.getElementById("message").value=""):alert("Erreur lors de l’envoi du message. Veuillez réessayer plus tard.")}catch(e){console.error("Erreur:",e),alert("Une erreur s’est produite. Veuillez réessayer plus tard.")}}function toggleMenu(){const e=document.querySelector("nav"),t=e.classList.contains("menu-open"),n=0===window.scrollY;t?(e.classList.remove("menu-open"),e.style.backgroundColor="","true"===e.dataset.forcedShrunk&&(n&&e.classList.remove("nav-shrunk"),delete e.dataset.forcedShrunk)):(e.classList.add("menu-open"),e.style.backgroundColor="rgba(0, 0, 0, 0.9)",n&&!e.classList.contains("nav-shrunk")&&(e.classList.add("nav-shrunk"),e.dataset.forcedShrunk="true"))}function updateNavShrunk(){const e=document.querySelector("nav");0===window.scrollY&&!e.classList.contains("menu-open")?(e.classList.remove("nav-shrunk"),delete e.dataset.forcedShrunk):window.scrollY>0&&e.classList.add("nav-shrunk")}document.querySelectorAll(".project-image").forEach((e=>{e.addEventListener("click",(()=>{modalImage.src=e.src,modal.style.display="flex"}))})),closeModal.addEventListener("click",(()=>{modal.style.display="none"})),modal.addEventListener("click",(e=>{e.target===modal&&(modal.style.display="none")})),document.querySelectorAll(".github-link").forEach((e=>{e.addEventListener("mousemove",(t=>{const n=e.getBoundingClientRect(),o=t.clientX-n.left,s=t.clientY-n.top;e.style.setProperty("--mouse-x",`${o}px`),e.style.setProperty("--mouse-y",`${s}px`)})),e.addEventListener("mouseleave",(()=>{e.style.setProperty("--mouse-x","50%"),e.style.setProperty("--mouse-y","50%")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".project-item"),t=document.getElementById("load-more-projects");let n=4;e.forEach(((e,t)=>{t>=4&&e.classList.add("hidden")})),e.length>4&&(t.style.display="inline-flex"),t.addEventListener("click",(()=>{const o=document.querySelectorAll(".project-item.hidden");let s=Math.min(4,o.length);for(let e=0;e<s;e++)o[e].classList.remove("hidden"),n++;n>=e.length&&(t.style.display="none")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".testimonial-card"),t=document.querySelector(".left-arrow"),n=document.querySelector(".right-arrow");let o=0;const s=e.length,a=()=>{e.forEach(((e,t)=>{e.classList.remove("active","left","right","hidden");const n=(t-o+s)%s;0===n?e.classList.add("active"):n===s-1?e.classList.add("left"):1===n?e.classList.add("right"):e.classList.add("hidden")}))};a(),n.addEventListener("click",(()=>{o=(o+1)%s,a()})),t.addEventListener("click",(()=>{o=(o-1+s)%s,a()}))})),window.addEventListener("scroll",updateNavShrunk),updateNavShrunk(),document.querySelectorAll("#navigation a").forEach((e=>{e.addEventListener("click",(()=>{const e=document.querySelector("nav");e.classList.remove("menu-open"),e.style.backgroundColor="","true"===e.dataset.forcedShrunk&&(0===window.scrollY&&e.classList.remove("nav-shrunk"),delete e.dataset.forcedShrunk)}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".hero-title, .hero-subtitle, .about-title, .about-text, .triangle-top, .hexagon-bottom, .grid-pattern, .nodes-network, .floating-particles, .circuit-wave, .spiral-left, .hex-network, .diamond-left, .circle-cluster, .skills-title, .skills-intro, .skills-grid, .projects-title, .projects-intro, .projects-grid, .testimonials-title, .testimonials-intro, .testimonials-carousel, .contact-slogan, .contact-info, .contact-form, .footer-content, .footer-bottom"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))}))}),{root:null,rootMargin:"0px",threshold:.1});e.forEach((e=>{t.observe(e)}))}));